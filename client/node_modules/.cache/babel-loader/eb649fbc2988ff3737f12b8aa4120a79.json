{"ast":null,"code":"// import React, { Component } from \"react\";\n// import axios from \"axios\";\n// import { ACCESS_LEVEL_GUEST, SERVER_HOST } from \"../config/global_constants\";\n// import BuyCar from \"./BuyCar\";\n// class CarDetailsPage extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       currentIndex: 0,\n//       imageUrl: \"\",\n//       basketItems: JSON.parse(localStorage.getItem(\"basketItems\")) || [], // Initialize basketItems from local storage\n//     };\n//   }\n//   componentDidMount() {\n//     const { car } = this.props.location.state;\n//     const filename = car.photos.length > 0 ? car.photos[0].filename : \"\";\n//     axios\n//       .get(`${SERVER_HOST}/cars/photo/${filename}`)\n//       .then((res) => {\n//         const imageUrl = `data:image/jpeg;base64,${res.data.image}`;\n//         this.setState({ imageUrl });\n//       })\n//       .catch((err) => {\n//         console.error(\"Error fetching image:\", err);\n//       });\n//   }\n//   addToBasket() {\n//     const { car } = this.props.location.state;\n//     const filename = car.photos.length > 0 ? car.photos[0].filename : \"\";\n//     axios\n//       .get(`${SERVER_HOST}/cars/photo/${filename}`)\n//       .then((res) => {\n//         const imageUrl = `data:image/jpeg;base64,${res.data.image}`;\n//         const newItem = {\n//           id: car._id,\n//           name: car.name,\n//           price: car.price,\n//           imageUrl: imageUrl, // Add imageUrl to newItem\n//           quantity: 1, // Initialize quantity to 1 when adding to basket\n//         };\n//         let basketItems = JSON.parse(localStorage.getItem(\"basketItems\")) || [];\n//         basketItems.push(newItem);\n//         localStorage.setItem(\"basketItems\", JSON.stringify(basketItems));\n//         this.setState({ basketItems: basketItems });\n//       })\n//       .catch((err) => {\n//         console.error(\"Error fetching image:\", err);\n//       });\n//   }\n//   render() {\n//     const { car } = this.props.location.state;\n//     return (\n//       <div className=\"product-details-container\">\n//         <div className=\"product-image\">\n//           <img src={this.state.imageUrl || \"placeholder.jpg\"} alt=\"Car\" />\n//         </div>\n//         <div className=\"product-info\">\n//           <h1 className=\"product-title\">{car.name}</h1>\n//           <div className=\"product-price\">\n//             <p>Price: €{car.price}</p>\n//           </div>\n//           <div className=\"product-fabric\">\n//             <p>Fabric: {car.fabric}</p>\n//           </div>\n//           <div className=\"product-description\">\n//             <p>Description: {car.description}</p>\n//           </div>\n//           <div>\n//             {localStorage.accessLevel <= ACCESS_LEVEL_GUEST &&\n//               (this.props.location.state.car.sold !== true ? (\n//                 <React.Fragment>\n//                   <button\n//                     className=\"basket-button\"\n//                     onClick={() => this.addToBasket()}\n//                   >\n//                     Add to Basket\n//                   </button>\n//                   <BuyCar\n//                     carID={this.props.location.state.car._id}\n//                     price={this.props.location.state.car.price}\n//                   />\n//                 </React.Fragment>\n//               ) : (\n//                 \"SOLD\"\n//               ))}\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// export default CarDetailsPage;","map":{"version":3,"sources":["C:\\Users\\Henry\\OneDrive - Dundalk Institute of Technology\\Year 2\\Full Stack Development\\style_koi\\stylekoi_repo\\client\\src\\components\\CarDetailsPage.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import React, { Component } from \"react\";\r\n// import axios from \"axios\";\r\n// import { ACCESS_LEVEL_GUEST, SERVER_HOST } from \"../config/global_constants\";\r\n// import BuyCar from \"./BuyCar\";\r\n\r\n// class CarDetailsPage extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       currentIndex: 0,\r\n//       imageUrl: \"\",\r\n//       basketItems: JSON.parse(localStorage.getItem(\"basketItems\")) || [], // Initialize basketItems from local storage\r\n//     };\r\n//   }\r\n\r\n//   componentDidMount() {\r\n//     const { car } = this.props.location.state;\r\n//     const filename = car.photos.length > 0 ? car.photos[0].filename : \"\";\r\n\r\n\r\n//     axios\r\n//       .get(`${SERVER_HOST}/cars/photo/${filename}`)\r\n//       .then((res) => {\r\n//         const imageUrl = `data:image/jpeg;base64,${res.data.image}`;\r\n//         this.setState({ imageUrl });\r\n//       })\r\n//       .catch((err) => {\r\n//         console.error(\"Error fetching image:\", err);\r\n//       });\r\n\r\n//   }\r\n\r\n\r\n//   addToBasket() {\r\n//     const { car } = this.props.location.state;\r\n//     const filename = car.photos.length > 0 ? car.photos[0].filename : \"\";\r\n//     axios\r\n//       .get(`${SERVER_HOST}/cars/photo/${filename}`)\r\n//       .then((res) => {\r\n//         const imageUrl = `data:image/jpeg;base64,${res.data.image}`;\r\n\r\n//         const newItem = {\r\n//           id: car._id,\r\n//           name: car.name,\r\n//           price: car.price,\r\n//           imageUrl: imageUrl, // Add imageUrl to newItem\r\n//           quantity: 1, // Initialize quantity to 1 when adding to basket\r\n//         };\r\n\r\n//         let basketItems = JSON.parse(localStorage.getItem(\"basketItems\")) || [];\r\n//         basketItems.push(newItem);\r\n//         localStorage.setItem(\"basketItems\", JSON.stringify(basketItems));\r\n//         this.setState({ basketItems: basketItems });\r\n//       })\r\n//       .catch((err) => {\r\n//         console.error(\"Error fetching image:\", err);\r\n//       });\r\n//   }\r\n\r\n//   render() {\r\n//     const { car } = this.props.location.state;\r\n\r\n//     return (\r\n//       <div className=\"product-details-container\">\r\n//         <div className=\"product-image\">\r\n//           <img src={this.state.imageUrl || \"placeholder.jpg\"} alt=\"Car\" />\r\n          \r\n//         </div>\r\n//         <div className=\"product-info\">\r\n//           <h1 className=\"product-title\">{car.name}</h1>\r\n//           <div className=\"product-price\">\r\n//             <p>Price: €{car.price}</p>\r\n//           </div>\r\n//           <div className=\"product-fabric\">\r\n//             <p>Fabric: {car.fabric}</p>\r\n//           </div>\r\n//           <div className=\"product-description\">\r\n//             <p>Description: {car.description}</p>\r\n//           </div>\r\n//           <div>\r\n//             {localStorage.accessLevel <= ACCESS_LEVEL_GUEST &&\r\n//               (this.props.location.state.car.sold !== true ? (\r\n//                 <React.Fragment>\r\n//                   <button\r\n//                     className=\"basket-button\"\r\n//                     onClick={() => this.addToBasket()}\r\n//                   >\r\n//                     Add to Basket\r\n//                   </button>\r\n//                   <BuyCar\r\n//                     carID={this.props.location.state.car._id}\r\n//                     price={this.props.location.state.car.price}\r\n//                   />\r\n//                 </React.Fragment>\r\n//               ) : (\r\n//                 \"SOLD\"\r\n//               ))}\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default CarDetailsPage;\r\n"]},"metadata":{},"sourceType":"module"}